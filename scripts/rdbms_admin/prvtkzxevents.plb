CREATE OR REPLACE PACKAGE DBMS_XS_ROLESET_EVENTS_INT wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
9
25b 160
GohWZ3O/aidaQIID6wF8ZopB8PAwgzvx1ycdf3RGEs0iAkq6Wpl5wNmh9q7fSDRh9w04Epv4
nemkIKoWoAJnZ7D30vCIrS2tCOfCaonZ8W2i0HRiV+8R0dEWUrl7URSz3f/he8BLHKFwNth9
BRF2hzjSHeuJsJXLrI4D6xYgLiO0tTkYkyCi00f6GTmR7lJiTYy5vCU/pgJMYDdaiaxDgrE/
lBV6si/AN/EgkwtGfvz5vVps9u3XY63bI47LkVKPMdWktBchnZ1fK7c+0JWibZkLDaOcJzoE
1PFU0EaVyiZtOLKsxvSdDZIbsHOxpUAcD58FzceZO4RLtc8Tc1XaC/BRmw==

/
CREATE OR replace library UTL_XS_LIB wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
16
26 59
FErKh/8QsILw7QXgtUj+/1LjfY0wg04I9Z7AdBjD57II9NDnSv4I9QnnvZ6yy1IyzLh0K+fL
UnQI9WHJpqax457w

/
CREATE OR REPLACE PACKAGE BODY dbms_xs_roleset_events_int wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
b
1715 5e8
BHFYi8G7cI3VdLDgC375CAuewpswg81ULiCG3y/NPZKU24cr4XRq/0gSTQXhiSGnvveiNxrT
+BQOTSjpBWLINpVRnbyE9/EWDMCK2C2YZ4xeR0JOr+5H/WVE8Eje4RRdCEHkMx4P0D2wxvzu
uyQo0Aew/KVy7obrC4H4xknmY8FCGi96rFOOZzYB08UvrG2en+Ws2oWN0tfmh8mo5xXACRrC
4L6sNtto711vDk0a5k+jBMBB4dehdP2j6Bh+EcWopclZ0yG9ZrA++t45XdcstT97eno0CMlE
lFOpZaHPIG9SIe1exyA8TtVq/lNdzsVqjXiEaj6ZRJQSCeWgg/qeqiMDEuhh26ujriCzfpa3
oZQIBPXS1JNnddJa573Z7SYaUEvrdIufE/bQZxzQV7M1V8x+3hywaefjNmlEP7IG7lvjjvRq
WSuYIwEtbYT7RJxZUi1knOGgjNZqZG/yhxjnaVxkBD1IQu7k7Uj1nuVhb5opoLmgd2cLQZV6
Zv8XDpMY8QL3p4jliFPhJrhssfR2Avb0N2C6p9TLpTbDzYlKTdEETlXM83kmUwjq2RP+NzW9
/3KBVRqMatyELchspwGeMVNcYt7+D+r9QdKIQP0W1/5vEMt31FLFOeRrXF4bPfUcoKDWtxkX
l5paDDwkjLbMGx2KFCEHEjauOqLeJR/ExnO51BwzQL0pHJdOMYTMHZUkPbx9LKWtAYzCUU8m
QMFfzv8v45iN2lW1kx+1KOhUYiZ0Bf7GTxI7daknGtHaNtbfHPze+uPcwb6aK4QdIzG7cVQQ
tOlpFtT9/f662EGJwaFjUqLuriDf5mS7K9lD/hELydhdCI9+g+d2ixV8e0aaco2yTQB1Kw8r
AnBC254nG3dmg+b1uqHj8q93vGV+ur0pv2HWHAUN6FmycAB7onh3wPTBWiqMxDKCktRnfFa+
70RoUkyDKtqSSkNwWoDvvFbzzkoHDkF738zReHQAsdxEXe6HsxoiqsZVbjSV6M/9V9h/oKkK
9OKY//CVA/DMOikfwmVc4PyAqcUCzSwAITGLU53QbnxEWPaqvHRKWPyR8rpqKy65Q+BRSNOF
NX0JNeu8a9jo3HZO39e/IWKvxDVH9AaNuc5gYlS2IMKPBXxiloFtlZV+Nme6B+8WsDKRBXuA
EIJJ7eEzWRnQuWaGeJRKoeRfChi5CQd82sV7UjlWxtvCU0hUXm0leEmHx4XOEOVWBpYQT8D1
MKsP/sufGYHBWH+x9DLPHQj6s58NUjKJY2t7seTHPTf+8aj+Ol4mT80M8A7cS7zPS1jCsdbX
MdJo75a1IwVT8WPBQr9FwVVCswtiA4E+It2h+2S7CiDSEAFrVUz58rsKmbmBnO0I+R+71Ymx
eOzzRydCgXh14nqTUOdko6ykEro5ckpNZJIaknu2i1H6cOeld5EwEJ7tIgJFQSzlskFXlv2G
zlZlWV14/6yLaf8SwVlHql6PEaFk3whUZDMPL3vogb+1+xeymOQ=

/
show errors;
GRANT EXECUTE ON dbms_xs_roleset_events_int TO XDB;
CREATE OR REPLACE PACKAGE DBMS_XS_PRINCIPAL_EVENTS_INT wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
9
205 ce
CYTKD9quiyJRQIimFFabKpuWJN4wgzuzf57mfy82aR5uZmPfh4/qE4oOsyDCirmcII34mubn
p+Co3gfuf3zmOtwfotwoHpgyswnH86PaQU1I7cPQkajbFoNlMF7b1VyHqBjYysZSw7pFqPhb
q/pCwRrIyZUTvGD1o7w118/xGrRGSS7sFD4E1YtZkoCeTeROGUOlOcF6yLg=

/
CREATE OR REPLACE PACKAGE BODY dbms_xs_principal_events_int wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
b
5bcc e6e
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

/
show errors;
GRANT EXECUTE ON dbms_xs_principal_events_int TO XDB;
declare
isCreatedBln boolean := false;
user_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for users.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_PRINCIPAL_EVENTS_INT</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Create/>
        <Post-Create/>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/principal.xsd#user"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin
  if (NOT DBMS_XDB.existsResource('/sys/xs/userrc.xml')) then   
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/userrc.xml',
                                            user_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/userrc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(user_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/userrc.xml') = 1;
  end if;
end;
/
commit;
declare
isCreatedBln boolean := false;
roleset_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for role sets.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_ROLESET_EVENTS_INT</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Create/>
        <Post-Create/>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/roleset.xsd#roleSet"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin    
  if (NOT DBMS_XDB.existsResource('/sys/xs/rolesetrc.xml')) then  
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/rolesetrc.xml',
                                            roleset_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/rolesetrc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(roleset_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/rolesetrc.xml') = 1;
  end if; 
end;
/
commit;
declare
isCreatedBln boolean := false;
roles_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for roles.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_PRINCIPAL_EVENTS_INT</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Create/>
        <Post-Create/>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/principal.xsd#dynamicRole"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin    
  if (NOT DBMS_XDB.existsResource('/sys/xs/drolerc.xml')) then
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/drolerc.xml',
                                            roles_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/drolerc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(roles_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/drolerc.xml') = 1;
  end if; 
end;
/
commit;
declare
isCreatedBln boolean := false;
dynamic_role_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for dynamic roles.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_PRINCIPAL_EVENTS_INT</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Create/>
        <Post-Create/>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/principal.xsd#role"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin    
  if (NOT DBMS_XDB.existsResource('/sys/xs/rolerc.xml')) then
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/rolerc.xml',
                                            dynamic_role_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/rolerc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(dynamic_role_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/rolerc.xml') = 1;
  end if;
end;
/
commit;
declare
isCreatedBln boolean := false;
function_role_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for function roles.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_PRINCIPAL_EVENTS_INT</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Create/>
        <Post-Create/>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/principal.xsd#functionRole"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin    
  if (NOT DBMS_XDB.existsResource('/sys/xs/frolerc.xml')) then
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/frolerc.xml',
                                            function_role_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/frolerc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(function_role_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/frolerc.xml') = 1;
end if; 
end;
/
commit;
GRANT EXECUTE ON sys.dbms_xdsutl TO XDB
/
CREATE OR REPLACE PACKAGE DBMS_XS_DATA_SECURITY_EVENTS wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
9
e0 ba
aUYNGOjMQDzXkqqBd86rAAvS5kwwg41Kf8vhf3Q2Jk6enFClNwpuMERbgNMxy0UKm7UPuKKg
yrNKyYC6rVU64fHOS7yjH5+5QHf1MzuG9IpgfqgvXGK9JY71Q1aZJ38gMiyPVzTTIFr5PrLA
h2z8BRPtfd9Q3pIJ01bOxI7IQ8FOKaXht1oiVQ==

/
CREATE OR REPLACE PACKAGE BODY dbms_xs_data_security_events wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
b
375 203
dZlBeYBvMGUxF8q/7KhctMNYUW8wg+0JAK5qfC8BuWRTOynT9MIN4LiK9idaBoWf5ZHC8v0U
GqdRG+mlu1JuPxSUfHyPqBhBc7ntmL8+a9AUouc21XBzoDtHgAE82SPe5cAytJ13T+jPlg8e
nuOrdKYJPhbCWWalkTVm/+Ngt4KVenFwUemlqcMdmeABwAfOrZkU6OZSYpHuDvc7ao1zplMM
bGWhswn9GmOHcJ1OJDJuK2q4ObADyvH/9HYSv4bM+GD/j/xabjfFiU/G99EJ6sXdyEmaMXVo
/nvnzE9ImEyjPoAivUGTpE6n8ulRYsb8EhBYHCzHGlhhXvALkWjLlEBcvj7qKsNPjTHtWHMw
wS5IgKU0mnk4EFRIQNYLF2irRXRD48kYSWsyPT1XRV5YSuTcI996hL2QjL/RBujjvZjLQoMP
N62hVHeRCgOgQk6cpFNGpdnmkHNx1fkR4zhGtfZNXKBAq1M9CdTx9Mzfo/oyOHH7Ku064Zpg
i58=

/
show errors;
GRANT EXECUTE ON dbms_xs_data_security_events TO XDB;
declare
isCreatedBln boolean := false;
data_security_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for Data Security.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_DATA_SECURITY_EVENTS</source>
      <language>PL/SQL</language>
      <events>
        <Post-Update/>
        <Post-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/dataSecurity.xsd#DataSecurity"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin    
  if (NOT DBMS_XDB.existsResource('/sys/xs/xdserc.xml')) then
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/xdserc.xml',
                                            data_security_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/xdserc.xml');
  else
    
    
    
    update resource_view r
       set r.res = 
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(data_security_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/xdserc.xml') = 1;
  end if;
end;
/
commit;
CREATE OR REPLACE PACKAGE dbms_xs_secclass_events wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
9
d4 ce
cCo2uoGIoYrsGeNclydR/frCANcwg41f7cvhqC85O0Ke8nnPNwpvM22q50ZDR5Pzuxpe/V8I
CC7Rp99hgrf0kSigN7xK/isZO6B7LsQM9mO8/IYxIfQJo8aOVlOuULqbii+2koWJLdu9IlsD
B9fs18yXfLeB3RuoOTFDyP+CozKdgHQHqoCeQZ2NjjcNSqKXfmO6z6YJQgAP

/
CREATE OR REPLACE PACKAGE BODY dbms_xs_secclass_events wrapped 
a000000
1
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
abcd
b
8de 280
/65ktIVfM+3R81of+3Igq3e5XL8wg83DLdxqfC8Bueow9mZczAJ1TQR2+INA1J+R2mOQUQlm
b6OoCagiLMbLoezo3d1G/KjCuRkSvwgDlq+RNxep5jWxfSlS6pEs6StdBc3Z6BbC5ACaLJ5G
PXCpaWZE++zyZ8dH3nT0RiFrVNZbDI+jRv5nIVGoXjGXYKyUsmwU5umjhQ2yOmBJCYvWyC7F
9/LhQKNgdg29Wztz28Djj4NN2FRf5QFhI5DD3sUElDYNp7eRLfo20RNl74+PCed5ZnFpfQec
iFtceXetFpIV5nSK/X5Y4hOPnjI80wxlxpuDmIjQxj9sl3/WLDioR2YZv1PEv4C8R2eqAQUZ
Ou0Hcce61AQ3OUOkH04S7U1caD64MBEx7irgP2QqpN9qmRZeQeulEgD8uFnZ61rFLovMWe2n
vJoeo66Vl9+uDd6k+Nxt4DsBjuiLjVOe7yF6fhlBTh2aipsGMgPXBxd6+Y08GU1UNzXHs8Po
qcgE1Y3p1HknDquXVMnWHOrvuh5G1CGvkcs3YwpH7bnvX/YBxfsnuycoblIOXvrZtfvcmNbg
wMlfU8uWC11lYNELXbXw9/wysaUkiBbcd3CXfaGdM9/l+j1JsatW7A==

/
GRANT EXECUTE ON dbms_xs_secclass_events TO XDB;
declare
isCreatedBln boolean := false;
security_class_ResConfig VARCHAR2(2048) :=
'<ResConfig     
                xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                       http://xmlns.oracle.com/xdb/XDBResConfig.xsd">  
  <event-listeners>
    <listener>
      <description>Register event handlers for Security Classes.</description>
      <schema>SYS</schema>
      <source>DBMS_XS_SECCLASS_EVENTS</source>
      <language>PL/SQL</language>
      <events>
        <Pre-Update/>
        <Pre-Delete/>
      </events>
      <pre-condition>
        <existsNode>
          <XPath>/r:Resource[r:SchemaElement="http://xmlns.oracle.com/xs/securityclass.xsd#securityClass"]</XPath>
          <namespace>xmlns:p="http://xmlns.oracle.com/xs"
                     xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
          </namespace>
        </existsNode>
      </pre-condition>
    </listener>
  </event-listeners>
</ResConfig>';
begin 
  if (NOT DBMS_XDB.existsResource('/sys/xs/scrc.xml')) then
    isCreatedBln := DBMS_XDB.CreateResource('/sys/xs/scrc.xml',
                                            security_class_ResConfig);
    DBMS_ResConfig.AddRepositoryResConfig('/sys/xs/scrc.xml');
  else
    
    
    
    update resource_view r
       set r.res =
         updateXML(r.res,
                   '/r:Resource/r:Contents/rc:ResConfig',
                   XMLType(security_class_ResConfig),
                   'xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                    xmlns:rc=http://xmlns.oracle.com/xdb/XDBResConfig.xsd"')
     where equals_path(r.res, '/sys/xs/scrc.xml') = 1;
  end if; 
end;
/
commit;
